<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Playlist</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Music Playlist</h1>

    <h2>Playlists</h2>
    <ul id="playlist-list">
        <!-- Playlists will be listed here -->
    </ul>

    <h2>Create a Playlist</h2>
    <form id="create-playlist-form">
        <input type="text" id="playlist-name" placeholder="Playlist name" required>
        <button type="submit">Create Playlist</button>
    </form>

    <script>
        $(document).ready(function() {
            // Fetch and display playlists
            $.get("/playlists", function(data) {
                data.playlists.forEach(function(playlist) {
                    $("#playlist-list").append("<li>" + playlist + "</li>");
                });
            });

            // Handle the playlist creation
            $("#create-playlist-form").submit(function(event) {
                event.preventDefault();  // Prevent form from submitting the traditional way

                var playlistName = $("#playlist-name").val();

                $.post("/create_playlist", { name: playlistName }, function(response) {
                    alert(response.message);  // Show success message
                    $("#playlist-list").append("<li>" + playlistName + "</li>");  // Add to list
                });
            });
        });
    </script>
</body>
</html>
